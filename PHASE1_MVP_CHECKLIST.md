# Phase 1 MVP 개발 체크리스트

## 📋 개요
이 문서는 Excel VBA 매크로 블록 코딩 시스템의 Phase 1 MVP 개발을 위한 상세 체크리스트입니다.
각 항목은 구체적인 작업 내용, 테스트 요구사항, 완료 조건을 포함합니다.

---

## Week 1: 프로젝트 기반 구축 (Foundation)

### 1.1 프로젝트 초기 설정
- [x] **작업 내용**
  - [x] React + TypeScript 프로젝트 생성
    ```bash
    npx create-react-app vba-block-coding --template typescript
    ```
  - [x] 필수 라이브러리 설치
    - [x] @mui/material, @emotion/react, @emotion/styled (UI 프레임워크)
    - [x] react-beautiful-dnd 또는 @dnd-kit/core (드래그앤드롭)
    - [x] @monaco-editor/react (코드 에디터)
    - [x] @reduxjs/toolkit, react-redux (상태 관리)
  - [x] ESLint, Prettier 설정
  - [x] 폴더 구조 생성
    ```
    src/
    ├── components/
    ├── data/
    ├── hooks/
    ├── services/
    ├── store/
    ├── types/
    ├── utils/
    └── styles/
    ```

- [x] **테스트 요구사항**
  - [x] `npm start` 실행 시 개발 서버가 정상 작동
  - [x] TypeScript 컴파일 오류 없음
  - [x] ESLint 검증 통과
  - [x] 모든 필수 라이브러리 정상 import 가능

- [x] **완료 조건**
  - [x] 프로젝트가 에러 없이 빌드됨
  - [x] 개발 서버가 localhost:3000에서 실행됨
  - [x] 기본 폴더 구조가 생성됨

---

### 1.2 UI 레이아웃 구현 (3개 패널)
- [x] **작업 내용**
  - [x] 전체 레이아웃 컴포넌트 생성 (`src/components/Layout/MainLayout.tsx`)
  - [x] 3개 패널 구조 구현
    - [x] 블록 라이브러리 패널 (왼쪽, 250px 고정폭)
    - [x] 작업 공간 패널 (중앙, flex-grow)
    - [x] 코드 뷰어 패널 (오른쪽, 400px 고정폭)
  - [x] 상단 네비게이션 바 구현
  - [x] 반응형 레이아웃 (최소 너비: 1024px)

- [x] **테스트 요구사항**
  - [x] 3개 패널이 화면에 올바르게 배치됨
  - [x] 각 패널의 너비가 스펙대로 설정됨 (250px, flex, 400px)
  - [x] 브라우저 창 크기 조절 시 레이아웃이 유지됨
  - [x] 최소 너비(1024px) 미만에서 경고 메시지 표시

- [x] **완료 조건**
  - [x] 3개 패널이 시각적으로 구분됨
  - [x] 각 패널에 임시 제목 표시됨
  - [x] 레이아웃이 깨지지 않음
  - [x] Chrome, Firefox, Edge에서 정상 동작

---

### 1.3 블록 정의 데이터 구조 설계
- [x] **작업 내용**
  - [x] TypeScript 타입 정의 (`src/types/block.ts`)
    - [x] `BlockDefinition` 인터페이스
    - [x] `Parameter` 인터페이스
    - [x] `ParameterType` enum
    - [x] `ValidationRule` 인터페이스
  - [x] 샘플 블록 정의 데이터 생성 (`src/data/blockDefinitions.ts`)
    - [x] 카테고리 1 (기본 작업): 5개 블록 샘플
    - [x] 카테고리 2 (셀/범위 조작): 5개 블록 샘플
    - [x] 카테고리 8 (루프/반복): 3개 블록 샘플
  - [x] 블록 정의 유효성 검증 함수 작성

- [x] **테스트 요구사항**
  - [x] TypeScript 타입 검증 통과
  - [x] 샘플 블록 데이터가 정상적으로 import됨
  - [x] 각 블록의 필수 필드가 모두 채워져 있음
  - [x] 유효성 검증 함수가 올바른 데이터를 통과시킴
  - [x] 유효성 검증 함수가 잘못된 데이터를 거부함

- [x] **완료 조건**
  - [x] 최소 13개의 샘플 블록이 정의됨
  - [x] 모든 블록이 타입 체크를 통과함
  - [x] 블록 데이터를 콘솔에 출력할 수 있음

---

### 1.4 블록 라이브러리 패널 UI
- [x] **작업 내용**
  - [x] BlockLibrary 컴포넌트 생성 (`src/components/BlockLibrary/BlockLibrary.tsx`)
  - [x] 카테고리 트리 뷰 구현
    - [x] 카테고리 접기/펼치기 기능
    - [x] 15개 카테고리 표시
  - [x] 블록 목록 표시
    - [x] 블록 카드 컴포넌트 (`BlockCard.tsx`)
    - [x] 블록 색상 구분 (카테고리별)
  - [x] 검색 입력창 (UI만)
  - [x] 스크롤 가능한 영역

- [x] **테스트 요구사항**
  - [x] 카테고리 클릭 시 블록 목록이 표시됨
  - [x] 카테고리 재클릭 시 블록 목록이 숨겨짐
  - [x] 블록 카드가 올바른 정보를 표시함 (ID, 이름, 설명)
  - [x] 카테고리별로 다른 색상이 적용됨
  - [x] 스크롤이 정상 작동함

- [x] **완료 조건**
  - [x] 15개 카테고리가 모두 표시됨
  - [x] 샘플 블록(13개)이 해당 카테고리에 표시됨
  - [x] 블록 카드 디자인이 스펙과 일치함
  - [x] UI가 사용자 친화적임

---

## Week 2: 드래그 앤 드롭 및 작업 공간 구현

### 2.1 드래그 앤 드롭 기능 구현
- [x] **작업 내용**
  - [x] react-beautiful-dnd 또는 dnd-kit 설정
  - [x] 블록 라이브러리에서 드래그 가능하게 설정
  - [x] Draggable 컴포넌트 래핑
  - [x] 드래그 중 시각적 피드백 구현
    - [x] 드래그 중인 블록 투명도 변경
    - [x] 커서 모양 변경
  - [x] 드롭 영역 하이라이트

- [x] **테스트 요구사항**
  - [x] 블록을 마우스로 클릭하고 드래그할 수 있음
  - [x] 드래그 중 블록이 마우스 포인터를 따라감
  - [x] 드래그 중 원본 블록이 반투명하게 표시됨
  - [x] 드롭 가능 영역에 시각적 표시가 나타남
  - [x] 드롭 불가 영역에서 마우스를 놓으면 블록이 원위치함

- [x] **완료 조건**
  - [x] 모든 블록 카드가 드래그 가능함
  - [x] 드래그 동작이 부드럽고 자연스러움
  - [x] 시각적 피드백이 명확함
  - [x] 브라우저 간 일관된 동작

---

### 2.2 작업 공간 패널 구현
- [x] **작업 내용**
  - [x] Workspace 컴포넌트 생성 (`src/components/Workspace/Workspace.tsx`)
  - [x] Droppable 영역 구현
  - [x] 빈 작업 공간 안내 메시지
  - [x] 블록 인스턴스 표시 컴포넌트 (`BlockInstance.tsx`)
    - [x] 블록 헤더 (아이콘, 이름)
    - [x] 매개변수 표시 영역
    - [x] 드래그 핸들
  - [x] 블록 목록 세로 정렬

- [x] **테스트 요구사항**
  - [x] 블록 라이브러리에서 블록을 드래그하여 작업 공간에 드롭할 수 있음
  - [x] 드롭 시 블록이 작업 공간에 추가됨
  - [x] 여러 블록을 순서대로 추가할 수 있음
  - [x] 빈 작업 공간에 안내 메시지가 표시됨
  - [x] 블록이 추가되면 안내 메시지가 사라짐

- [x] **완료 조건**
  - [x] 작업 공간에 블록을 추가할 수 있음
  - [x] 추가된 블록이 시각적으로 잘 표시됨
  - [x] 블록 인스턴스가 블록 정의의 정보를 올바르게 표시함

---

### 2.3 블록 추가/삭제 기능
- [x] **작업 내용**
  - [x] 블록 추가 로직 구현
    - [x] 고유 ID 생성 (UUID)
    - [x] 블록 인스턴스 생성
    - [x] 상태에 블록 추가
  - [x] 블록 삭제 기능 구현
    - [x] 삭제 버튼 UI (블록 우측 상단)
    - [x] 삭제 이벤트 핸들러
    - [x] 상태에서 블록 제거
  - [x] 블록 순서 변경 기능 (작업 공간 내에서 드래그)

- [x] **테스트 요구사항**
  - [x] 블록 라이브러리에서 같은 블록을 여러 번 추가할 수 있음
  - [x] 각 블록 인스턴스가 고유한 ID를 가짐
  - [x] 삭제 버튼 클릭 시 해당 블록이 제거됨
  - [x] 작업 공간 내에서 블록 순서를 드래그로 변경할 수 있음
  - [x] 블록 순서 변경 시 다른 블록들이 자동으로 재배치됨

- [x] **완료 조건**
  - [x] 블록 추가/삭제가 정상 작동함
  - [x] 블록 순서 변경이 정상 작동함
  - [x] UI 업데이트가 즉시 반영됨
  - [x] 동작이 직관적이고 예측 가능함

---

### 2.4 기본 상태 관리 설정
- [x] **작업 내용**
  - [x] Redux Toolkit store 설정 (`src/store/store.ts`)
  - [x] 블록 관리 slice 생성 (`src/store/slices/blockSlice.ts`)
    - [x] State 정의 (currentProject, blocks)
    - [x] Reducers 구현
      - [x] addBlock
      - [x] deleteBlock
      - [x] updateBlock
      - [x] reorderBlocks
  - [x] 앱에 Redux Provider 적용
  - [x] 커스텀 훅 생성 (`src/hooks/useBlocks.ts`)

- [x] **테스트 요구사항**
  - [x] Redux DevTools에서 state를 확인할 수 있음
  - [x] 블록 추가 시 state가 업데이트됨
  - [x] 블록 삭제 시 state가 업데이트됨
  - [x] 블록 순서 변경 시 state가 업데이트됨
  - [x] 컴포넌트가 state 변경에 반응함

- [x] **완료 조건**
  - [x] Redux store가 올바르게 설정됨
  - [x] 모든 블록 관련 작업이 상태 관리를 통해 처리됨
  - [x] State 구조가 TypeScript로 타입 안전함
  - [x] 커스텀 훅이 재사용 가능함

---

## Week 3: 코드 생성 및 코드 뷰어 구현

### 3.1 코드 생성 엔진 구현
- [x] **작업 내용**
  - [x] 코드 생성 서비스 생성 (`src/services/codeGenerator.ts`)
  - [x] 블록별 코드 생성 함수
    - [x] 블록 정의의 codeTemplate 활용
    - [x] 매개변수 값 치환
    - [x] 들여쓰기 적용
  - [x] 전체 코드 생성 함수
    - [x] Sub 프로시저 래핑
    - [x] 블록 간 주석 추가
    - [x] 코드 포맷팅
  - [x] 코드 유효성 검증 (기본)

- [x] **테스트 요구사항**
  - [x] 단일 블록에서 올바른 VBA 코드가 생성됨
  - [x] 매개변수가 코드에 올바르게 반영됨
  - [x] 여러 블록에서 완전한 Sub 프로시저가 생성됨
  - [x] 생성된 코드가 올바른 VBA 문법을 따름
  - [x] 들여쓰기와 포맷이 일관됨

- [x] **완료 조건**
  - [x] 샘플 블록(13개)에 대해 코드 생성이 작동함
  - [x] 생성된 코드를 Excel VBA 에디터에 붙여넣을 수 있음
  - [x] 코드가 Excel에서 오류 없이 컴파일됨

---

### 3.2 코드 뷰어 패널 구현
- [x] **작업 내용**
  - [x] CodeViewer 컴포넌트 생성 (`src/components/CodeViewer/CodeViewer.tsx`)
  - [x] Monaco Editor 통합
    - [x] VBA 언어 모드 설정
    - [x] 읽기 전용 설정
    - [x] 테마 설정 (VS Light/Dark)
  - [x] 코드 복사 버튼
  - [x] 코드 다운로드 버튼 (.bas 파일)
  - [x] 빈 코드 안내 메시지

- [x] **테스트 요구사항**
  - [x] Monaco Editor가 정상적으로 렌더링됨
  - [x] 코드 뷰어에 생성된 코드가 표시됨
  - [x] 복사 버튼 클릭 시 코드가 클립보드에 복사됨
  - [x] 복사 후 토스트 알림이 표시됨
  - [x] 다운로드 버튼 클릭 시 .bas 파일이 다운로드됨
  - [x] 블록이 없을 때 안내 메시지가 표시됨

- [x] **완료 조건**
  - [x] 코드 뷰어가 시각적으로 깔끔하게 표시됨
  - [x] 코드 복사 기능이 정상 작동함
  - [x] 파일 다운로드 기능이 정상 작동함
  - [x] 에디터가 읽기 전용으로 동작함

---

### 3.3 구문 강조 적용
- [x] **작업 내용**
  - [x] Monaco Editor VBA 언어 지원 설정
  - [x] 구문 강조 규칙 커스터마이징
    - [x] 키워드 (Sub, End, If, For, etc.): 파랑
    - [x] 문자열: 빨강
    - [x] 주석: 초록
    - [x] 함수/메서드: 검정
    - [x] 숫자: 주황
  - [x] 테마 선택 기능 (선택사항)

- [x] **테스트 요구사항**
  - [x] VBA 키워드가 올바른 색상으로 표시됨
  - [x] 문자열이 올바른 색상으로 표시됨
  - [x] 주석이 올바른 색상으로 표시됨
  - [x] 구문 강조가 읽기 쉽게 적용됨

- [x] **완료 조건**
  - [x] 모든 VBA 구문이 적절히 강조됨
  - [x] 색상 구분이 명확함
  - [x] 가독성이 향상됨

---

### 3.4 실시간 코드 업데이트
- [x] **작업 내용**
  - [x] 블록 상태 변경 감지
  - [x] 코드 자동 재생성 트리거
  - [x] 코드 뷰어 자동 업데이트
  - [x] 성능 최적화
    - [x] 디바운싱 적용 (300ms)
    - [x] useMemo 활용

- [x] **테스트 요구사항**
  - [x] 블록 추가 시 코드가 즉시 업데이트됨
  - [x] 블록 삭제 시 코드가 즉시 업데이트됨
  - [x] 블록 순서 변경 시 코드가 즉시 업데이트됨
  - [x] 블록 매개변수 변경 시 코드가 즉시 업데이트됨
  - [x] 여러 블록을 빠르게 추가해도 성능 저하가 없음

- [x] **완료 조건**
  - [x] 실시간 업데이트가 정상 작동함
  - [x] 업데이트 지연이 느껴지지 않음
  - [x] 메모리 누수가 없음

---

## Week 4: 블록 편집 및 저장 기능 구현

### 4.1 블록 편집 모달 구현
- [x] **작업 내용**
  - [x] BlockEditor 모달 컴포넌트 생성 (`src/components/BlockEditor/BlockEditor.tsx`)
  - [x] 모달 열기/닫기 로직
  - [x] 매개변수 입력 필드 렌더링
    - [x] 문자열: 텍스트 입력
    - [x] 숫자: 숫자 입력 (스피너)
    - [x] 범위: 텍스트 입력 (패턴 검증)
    - [x] 선택: 드롭다운
    - [x] 불린: 체크박스/토글
  - [x] 실시간 코드 미리보기 (모달 내)
  - [x] 취소/적용 버튼

- [x] **테스트 요구사항**
  - [x] 블록 더블클릭 시 편집 모달이 열림
  - [x] 모달에 블록 정보가 올바르게 표시됨
  - [x] 각 매개변수 타입에 맞는 입력 필드가 표시됨
  - [x] 입력 값 변경 시 미리보기 코드가 업데이트됨
  - [x] 적용 버튼 클릭 시 변경사항이 반영됨
  - [x] 취소 버튼 클릭 시 변경사항이 무시됨
  - [x] ESC 키로 모달을 닫을 수 있음

- [x] **완료 조건**
  - [x] 블록 편집 모달이 정상 작동함
  - [x] 모든 매개변수 타입이 지원됨
  - [x] UI가 사용자 친화적임
  - [x] 접근성이 고려됨 (키보드 네비게이션)

---

### 4.2 매개변수 입력 및 유효성 검증
- [x] **작업 내용**
  - [x] 유효성 검증 로직 구현 (`src/utils/validation.ts`)
  - [x] 매개변수 타입별 검증 함수
    - [x] 범위 형식 검증 (A1, A1:C10)
    - [x] 파일 경로 검증
    - [x] 숫자 범위 검증
    - [x] 필수 필드 검증
  - [x] 오류 메시지 표시
  - [x] 실시간 유효성 검증

- [x] **테스트 요구사항**
  - [x] 올바른 입력 값은 검증을 통과함
  - [x] 잘못된 입력 값은 검증에 실패함
  - [x] 오류 발생 시 명확한 메시지가 표시됨
  - [x] 필수 필드가 비어있으면 적용 버튼이 비활성화됨
  - [x] 유효성 검증이 실시간으로 작동함

- [x] **완료 조건**
  - [x] 모든 매개변수 타입에 대한 검증이 작동함
  - [x] 오류 메시지가 명확하고 도움이 됨
  - [x] 사용자가 오류를 쉽게 수정할 수 있음

---

### 4.3 로컬 스토리지 저장/불러오기
- [x] **작업 내용**
  - [x] 프로젝트 저장 서비스 생성 (`src/services/storageService.ts`)
  - [x] IndexedDB 또는 localStorage 활용
  - [x] 프로젝트 저장 기능
    - [x] 현재 블록 목록 직렬화
    - [x] 메타데이터 추가 (이름, 생성일, 수정일)
    - [x] 스토리지에 저장
  - [x] 프로젝트 불러오기 기능
    - [x] 저장된 프로젝트 목록 조회
    - [x] 선택한 프로젝트 로드
    - [x] 블록 인스턴스 복원
  - [x] 프로젝트 삭제 기능
  - [x] 상단 네비게이션 바에 저장/불러오기 버튼 추가

- [x] **테스트 요구사항**
  - [x] 프로젝트 이름을 입력하고 저장할 수 있음
  - [x] 저장 후 브라우저를 새로고침해도 프로젝트가 유지됨
  - [x] 저장된 프로젝트 목록을 조회할 수 있음
  - [x] 프로젝트를 불러오면 블록들이 복원됨
  - [x] 불러온 프로젝트에서 코드가 올바르게 생성됨
  - [x] 프로젝트를 삭제할 수 있음

- [x] **완료 조건**
  - [x] 저장/불러오기가 정상 작동함
  - [x] 데이터 손실이 없음
  - [x] 여러 프로젝트를 관리할 수 있음
  - [x] UI가 직관적임

---

### 4.4 기본 테스트 및 버그 수정
- [x] **작업 내용**
  - [x] 통합 테스트 수행
    - [x] 전체 사용자 플로우 테스트
      1. 블록 라이브러리에서 블록 선택
      2. 작업 공간에 드래그앤드롭
      3. 블록 편집
      4. 코드 생성 확인
      5. 프로젝트 저장
      6. 브라우저 새로고침
      7. 프로젝트 불러오기
      8. 코드 복사
  - [x] 크로스 브라우저 테스트
    - [x] Chrome
    - [x] Firefox
    - [x] Edge
    - [ ] Safari (선택사항)
  - [x] 버그 수정 및 개선
  - [x] 코드 리팩토링
  - [x] 성능 최적화

- [x] **테스트 요구사항**
  - [x] 모든 주요 기능이 정상 작동함
  - [x] 브라우저 간 일관된 동작
  - [x] 명백한 버그가 없음
  - [x] 성능이 허용 가능한 수준임
  - [x] 메모리 누수가 없음

- [x] **완료 조건**
  - [x] 핵심 사용자 플로우가 완벽하게 작동함
  - [x] MVP의 모든 필수 기능이 구현됨
  - [x] 코드 품질이 양호함
  - [x] 사용자 경험이 만족스러움

---

## Phase 1 MVP 완료 조건 (전체)

### 필수 기능 (Must Have)
- [x] 3개 패널 UI (블록 라이브러리, 작업 공간, 코드 뷰어)
- [x] 드래그 앤 드롭으로 블록 추가
- [x] 블록 삭제 및 순서 변경
- [x] 실시간 VBA 코드 생성
- [x] 코드 구문 강조
- [x] 코드 복사 및 다운로드
- [x] 블록 편집 (매개변수 입력)
- [x] 프로젝트 저장 및 불러오기 (로컬)

### 선택 기능 (Nice to Have)
- [ ] 블록 검색
- [ ] 실행 취소/다시 실행
- [ ] 키보드 단축키
- [ ] 예제 갤러리

### 품질 기준
- [x] TypeScript 컴파일 오류 없음
- [x] ESLint 경고 최소화
- [x] 주요 브라우저에서 작동
- [x] 명백한 버그 없음
- [x] 기본적인 반응형 지원

---

## 다음 단계 (Phase 2)

Phase 1 MVP 완료 후:
1. 사용자 피드백 수집
2. 버그 수정 및 개선
3. Phase 2 고급 기능 개발 시작
   - 블록 검색 및 필터링
   - 실행 취소/다시 실행
   - 예제 갤러리
   - 프로젝트 관리 UI 개선

---

## 참고 자료

- **스펙 문서**: `webapp_specification.md`
- **블록 정의**: `excel _vba_code_100.md`
- **React 공식 문서**: https://react.dev/
- **TypeScript 문서**: https://www.typescriptlang.org/
- **Material-UI**: https://mui.com/
- **Monaco Editor**: https://microsoft.github.io/monaco-editor/
- **VBA 참고**: https://docs.microsoft.com/ko-kr/office/vba/api/overview/excel

---

**문서 작성일**: 2024-11-20  
**작성자**: Development Team  
**버전**: 1.0
